{"version":3,"sources":["climbing/utils/bitmaskUtils.js","climbing/model/AscentTypes.js","climbing/model/AscentMethods.js","climbing/model/AscentNotes.js","climbing/utils/localStorage.js","climbing/utils/fetchAscents.js","climbing/model/AscentGrades.js","climbing/utils/transformAscents.js","climbing/utils/ascentUtils.js","climbing/components/AscentsChart.js","climbing/components/UserIdInput.js","climbing/Ascents.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["getNamesArrayFromBitMask","bitmaskFlags","values","mask","arguments","length","undefined","Object","toConsumableArray","Array","reduce","res","_","val","Math","pow","concat","getArrayFromBitMask","keys","key","indexOf","value","name","AscentTypes","ROUTES","id","shorthand","label","BOULDERS","MULTI_PITCH","AscentMethods","1","ascentTypes","2","3","4","5","AscentNotes","NOTE_FA","score","routes","boulders","NOTE_2ND_GO","NOTE_TRAD","NOTE_SOFT","NOTE_HARD","NOTE_TRAV","NOTE_ONE_HANG","getAscents","userId","JSON","parse","window","localStorage","getItem","ex","saveAscents","ascents","setItem","stringify","fetchAscents","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","text","url","response","wrap","_context","prev","next","promiseParseXml","abrupt","sent","console","info","fetch","stop","this","_x","apply","Promise","resolve","reject","xml2js","Parser","normalizeTags","explicitArray","parseString","err","json","log","ascentlist","ascent","AscentGrades","0","labels","fra","boulder","usa","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","oldGradeIds","-","3a","3b","3c","4a","4b","4c","5a","5b","5c","6a","6a+","6b","6b+","6c","6c+","7a","7a+","7b","7b+","7c","7c+","8a","8a+","8b","8b+","8c","8c+","9a","9a+","9b","9b+","9c","8c/+","8c+/9a","9a/+","9a+/9b","AscentGradeMapping","oldId","objectSpread","defineProperty","count","Error","transformAscents","filter","dbascent","sort","b","date","map","notes","note","method","style","type","getAscentTypeById","objectclass","isTry","newGradeId","grade","error","colors","redpoint","flash","onsight","toprope","attempt","AscentsChart","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleTimeRangeChange","timerange","setState","brushrange","state","startRange","handleSelectionChanged","point","selection","handleMouseNear","highlight","getGradeLabel","points","Moment","toDate","getTime","series","entries","day","format","_ref2","slicedToArray","_ref3","_ref4","dateA","dateB","TimeSeries","columns","dailySeries","fixedWindowRollup","windowSize","aggregation","toJSON","begin","range","end","diff","subtract","add","TimeRange","hover","_this2","_this$state","infoValues","event","get","cragname","timeAxisStyle","valueColor","valueWeight","valueSize","ScatterPointsStyle","fill","stroke","opacity","normal","highlighted","selected","muted","react_default","createElement","lib_entry","timeRange","maxTime","minTime","enablePanZoom","onTimeRangeChanged","height","debug","min","max","axis","axisColor","display","width","column","color","strokeWidth","infoTimeFormat","e","toLocaleDateString","infoHeight","infoWidth","infoStyle","ScatterChart","onMouseNear","p","radius","paddingTop","hideTimeAxis","visible","React","Component","query","queryString","location","search","UserIdInput","test","checkUserId","handleSubmit","preventDefault","userIdInput","onSubmit","onClearUserId","focus","onChangeUserId","target","suffix","icon","onClick","es_form","layout","Item","input","placeholder","prefix","onChange","ref","node","es_button","htmlType","disabled","Ascents","isLoading","onSubmitUserIdInput","rawAscents","t0","message","className","components_UserIdInput","components_AscentsChart","PureComponent","App","climbing_Ascents","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.351eb019.chunk.js","sourcesContent":["/* eslint-disable no-bitwise */\nexport const getBitMaskFromArray = (arrayWithValues = []) =>\n    arrayWithValues.reduce((res, val) => res | val, 0);\n\nexport const getArrayFromBitMask = (mask = 0) =>\n    [...Array(16)].reduce((res, _, val) => (mask & (2 ** val) ? [...res, 2 ** val] : res), []);\n\n/*\n * bitmaskFlags should be an object with the following signature:\n *\n * bitmaskFlags = {\n *   SOME_CONST: {\n *     value: int,\n *     name: string\n *   },\n *   ...\n * };\n *\n */\nexport const getNamesArrayFromBitMask = (bitmaskFlags, mask = 0) => {\n    const values = getArrayFromBitMask(mask);\n    return Object.keys(bitmaskFlags).reduce(\n        (res, key) =>\n            values.indexOf(bitmaskFlags[key].value) !== -1 ? [...res, bitmaskFlags[key].name] : res,\n        []\n    );\n};\n","export const AscentTypes = {\n    ROUTES: {\n        id: 0,\n        shorthand: \"routes\",\n        label: \"routes\"\n    },\n    BOULDERS: {\n        id: 1,\n        shorthand: \"boulders\",\n        label: \"boulders\"\n    },\n    MULTI_PITCH: {\n        id: 2,\n        shorthand: \"multi-pitch\",\n        label: \"multi-pitch\"\n    }\n};\n\n","import { AscentTypes } from \"./AscentTypes\";\n\nexport const AscentMethods = {\n    1: {\n        id: 1,\n        value: 0,\n        shorthand: \"redpoint\",\n        name: \"Redpoint\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand, AscentTypes.BOULDERS.shorthand]\n    },\n    2: {\n        id: 2,\n        value: 53,\n        shorthand: \"flash\",\n        name: \"Flash\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand, AscentTypes.BOULDERS.shorthand]\n    },\n    3: {\n        id: 3,\n        value: 145,\n        shorthand: \"onsight\",\n        name: \"Onsight\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand]\n    },\n    4: {\n        id: 4,\n        value: -52,\n        shorthand: \"toprope\",\n        name: \"Toprope\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand]\n    },\n    5: {\n        id: 5,\n        value: 95,\n        shorthand: \"onsight\",\n        name: \"Onsight\",\n        ascentTypes: [AscentTypes.BOULDERS.shorthand]\n    }\n};\n\nexport const AscentMethodShortHands = [\"onsight\", \"flash\", \"redpoint\", \"toprope\"];\n","export const AscentNotes = {\n    NOTE_FA: {\n        name: \"First Ascent\",\n        value: 1,\n        score: {\n            routes: 30, // was 10 once\n            boulders: 20 // was 5 once..\n        }\n    },\n    NOTE_2ND_GO: {\n        name: \"Second Go\",\n        value: 2,\n        score: {\n            routes: 2,\n            boulders: 2\n        }\n    },\n    NOTE_TRAD: {\n        name: \"Traditional\",\n        value: 4,\n        score: {\n            routes: 30,\n            boulders: 0\n        }\n    },\n    NOTE_SOFT: {\n        name: \"Soft\",\n        value: 8,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_HARD: {\n        name: \"Hard\",\n        value: 16,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_TRAV: {\n        name: \"Traverse\",\n        value: 32,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_ONE_HANG: {\n        name: \"One Hang\",\n        value: 64,\n        score: {\n            routes: -128,\n            boulders: 0\n        }\n    }\n};\n","export const getAscents = userId => {\n  try {\n    return JSON.parse(window.localStorage.getItem(`raw-ascents-${userId}`));\n  } catch (ex) { }\n}\n\nexport const saveAscents = (userId, ascents) => {\n  try {\n    return window.localStorage.setItem(`raw-ascents-${userId}`, JSON.stringify(ascents));\n  } catch (ex) { }\n}\n\nexport const clearCache = () => {\n  try {\n    window.localStorage.clear();\n  } catch (ex) { }\n}","import { fetch } from 'whatwg-fetch'\nimport xml2js from \"xml2js\";\n\nimport * as localStorage from './localStorage'\n\nconst fetchAscents = async userId => {\n  let text = localStorage.getAscents(userId);\n  if (text) {\n    return await promiseParseXml(text);\n  }\n\n  const url = `https://cors-anywhere.herokuapp.com/https://www.8a.nu/scorecard/xml/${userId}_routes.xml`;\n  console.info('fetch', url)\n  const response = await fetch(url);\n  text = await response.text();\n  localStorage.saveAscents(userId, text);\n\n  return await promiseParseXml(text);\n}\n\nconst promiseParseXml = text =>\n  new Promise((resolve, reject) =>\n    new xml2js.Parser({ normalizeTags: true, explicitArray: false })\n      .parseString(text, (err, json) => {\n        if(err){\n          return reject(err)\n        }\n        \n        console.log('json', json)\n        console.log('json.ascentlist.ascent', json && json.ascentlist && json.ascentlist.ascent)\n        return resolve(json.ascentlist.ascent)\n      })\n  );\n\nexport default fetchAscents;","export const AscentGrades = {\n    \"0\": {\n        id: 0,\n        score: 0,\n        labels: {\n            fra: { routes: \"\", boulder: \"\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"1\": {\n        id: 1,\n        score: 0,\n        labels: {\n            fra: { routes: \"\", boulder: \"\" },\n            usa: { routes: \"3/4\", boulders: \"VB\" }\n        }\n    },\n    \"2\": {\n        id: 2,\n        score: 80,\n        labels: {\n            fra: { routes: \"2\", boulder: \"2\" },\n            usa: { routes: \"5.1\", boulders: \"VB\" }\n        }\n    },\n    \"3\": {\n        id: 3,\n        score: 100,\n        labels: {\n            fra: { routes: \"3a\", boulder: \"3A\" },\n            usa: { routes: \"5.3\", boulders: \"VB\" }\n        }\n    },\n    \"4\": {\n        id: 4,\n        score: 120,\n        labels: {\n            fra: { routes: \"3b\", boulder: \"3B\" },\n            usa: { routes: \"5.3\", boulders: \"VB\" }\n        }\n    },\n    \"5\": {\n        id: 5,\n        score: 140,\n        labels: {\n            fra: { routes: \"3c\", boulder: \"3C\" },\n            usa: { routes: \"5.3\", boulders: \"V0-\" }\n        }\n    },\n    \"6\": {\n        id: 6,\n        score: 160,\n        labels: {\n            fra: { routes: \"4a\", boulder: \"4A\" },\n            usa: { routes: \"5.4\", boulders: \"V0\" }\n        }\n    },\n    \"7\": {\n        id: 7,\n        score: 180,\n        labels: {\n            fra: { routes: \"4b\", boulder: \"4B\" },\n            usa: { routes: \"5.5\", boulders: \"V0\" }\n        }\n    },\n    \"8\": {\n        id: 8,\n        score: 200,\n        labels: {\n            fra: { routes: \"4c\", boulder: \"4C\" },\n            usa: { routes: \"5.6\", boulders: \"V0\" }\n        }\n    },\n    \"9\": {\n        id: 9,\n        score: 250,\n        labels: {\n            fra: { routes: \"5\", boulder: \"5\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"10\": {\n        id: 10,\n        score: 250,\n        labels: {\n            fra: { routes: \"5a\", boulder: \"5A\" },\n            usa: { routes: \"5.7\", boulders: \"V1\" }\n        }\n    },\n    \"11\": {\n        id: 11,\n        score: 300,\n        labels: {\n            fra: { routes: \"5b\", boulder: \"5B\" },\n            usa: { routes: \"5.8\", boulders: \"V1\" }\n        }\n    },\n    \"12\": {\n        id: 12,\n        score: 350,\n        labels: {\n            fra: { routes: \"5c\", boulder: \"5C\" },\n            usa: { routes: \"5.9\", boulders: \"V2\" }\n        }\n    },\n    \"13\": {\n        id: 13,\n        score: 400,\n        labels: {\n            fra: { routes: \"6\", boulder: \"6\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"14\": {\n        id: 14,\n        score: 400,\n        labels: {\n            fra: { routes: \"6a\", boulder: \"6A\" },\n            usa: { routes: \"5.10a\", boulders: \"V3\" }\n        }\n    },\n    \"15\": {\n        id: 15,\n        score: 450,\n        labels: {\n            fra: { routes: \"6a+\", boulder: \"6A+\" },\n            usa: { routes: \"5.10b\", boulders: \"V3/4\" }\n        }\n    },\n    \"16\": {\n        id: 16,\n        score: 500,\n        labels: {\n            fra: { routes: \"6b\", boulder: \"6B\" },\n            usa: { routes: \"5.10c\", boulders: \"V4\" }\n        }\n    },\n    \"17\": {\n        id: 17,\n        score: 550,\n        labels: {\n            fra: { routes: \"6b+\", boulder: \"6B+\" },\n            usa: { routes: \"5.10d\", boulders: \"V4/V5\" }\n        }\n    },\n    \"18\": {\n        id: 18,\n        score: 600,\n        labels: {\n            fra: { routes: \"6c\", boulder: \"6C\" },\n            usa: { routes: \"5.11a\", boulders: \"V5\" }\n        }\n    },\n    \"19\": {\n        id: 19,\n        score: 650,\n        labels: {\n            fra: { routes: \"6c+\", boulder: \"6C+\" },\n            usa: { routes: \"5.11b\", boulders: \"V5/V6\" }\n        }\n    },\n    \"20\": {\n        id: 20,\n        score: 700,\n        labels: {\n            fra: { routes: \"7a\", boulder: \"7A\" },\n            usa: { routes: \"5.11d\", boulders: \"V6\" }\n        }\n    },\n    \"21\": {\n        id: 21,\n        score: 750,\n        labels: {\n            fra: { routes: \"7a+\", boulder: \"7A+\" },\n            usa: { routes: \"5.12a\", boulders: \"V7\" }\n        }\n    },\n    \"22\": {\n        id: 22,\n        score: 800,\n        labels: {\n            fra: { routes: \"7b\", boulder: \"7B\" },\n            usa: { routes: \"5.12b\", boulders: \"V8\" }\n        }\n    },\n    \"23\": {\n        id: 23,\n        score: 850,\n        labels: {\n            fra: { routes: \"7b+\", boulder: \"7B+\" },\n            usa: { routes: \"5.12c\", boulders: \"V8/9\" }\n        }\n    },\n    \"24\": {\n        id: 24,\n        score: 900,\n        labels: {\n            fra: { routes: \"7c\", boulder: \"7C\" },\n            usa: { routes: \"5.12d\", boulders: \"V9\" }\n        }\n    },\n    \"25\": {\n        id: 25,\n        score: 950,\n        labels: {\n            fra: { routes: \"7c+\", boulder: \"7C+\" },\n            usa: { routes: \"5.13a\", boulders: \"V10\" }\n        }\n    },\n    \"26\": {\n        id: 26,\n        score: 1000,\n        labels: {\n            fra: { routes: \"8a\", boulder: \"8A\" },\n            usa: { routes: \"5.13b\", boulders: \"V11\" }\n        }\n    },\n    \"27\": {\n        id: 27,\n        score: 1050,\n        labels: {\n            fra: { routes: \"8a+\", boulder: \"8A+\" },\n            usa: { routes: \"5.13c\", boulders: \"V12\" }\n        }\n    },\n    \"28\": {\n        id: 28,\n        score: 1100,\n        labels: {\n            fra: { routes: \"8b\", boulder: \"8B\" },\n            usa: { routes: \"5.13d\", boulders: \"V13\" }\n        }\n    },\n    \"29\": {\n        id: 29,\n        score: 1150,\n        labels: {\n            fra: { routes: \"8b+\", boulder: \"8B+\" },\n            usa: { routes: \"5.14a\", boulders: \"V14\" }\n        }\n    },\n    \"30\": {\n        id: 30,\n        score: 1200,\n        labels: {\n            fra: { routes: \"8c\", boulder: \"8C\" },\n            usa: { routes: \"5.14b\", boulders: \"V15\" }\n        }\n    },\n    \"31\": {\n        id: 31,\n        score: 1225,\n        labels: {\n            fra: { routes: \"8c/+\", boulder: \"8C/+\" },\n            usa: { routes: \"5.14b/c\", boulders: \"V15/16\" }\n        }\n    },\n    \"32\": {\n        id: 32,\n        score: 1250,\n        labels: {\n            fra: { routes: \"8c+\", boulder: \"8C+\" },\n            usa: { routes: \"5.14c\", boulders: \"V16\" }\n        }\n    },\n    \"33\": {\n        id: 33,\n        score: 1275,\n        labels: {\n            fra: { routes: \"8c+/9a\", boulder: \"8C+/9A\" },\n            usa: { routes: \"5.14c/d\", boulders: \"V16/17\" }\n        }\n    },\n    \"34\": {\n        id: 34,\n        score: 1300,\n        labels: {\n            fra: { routes: \"9a\", boulder: \"9A\" },\n            usa: { routes: \"5.14d\", boulders: \"V17\" }\n        }\n    },\n    \"35\": {\n        id: 35,\n        score: 1325,\n        labels: {\n            fra: { routes: \"9a/+\", boulder: \"9A/+\" },\n            usa: { routes: \"5.14d/.15a\", boulders: \"V17/18\" }\n        }\n    },\n    \"36\": {\n        id: 36,\n        score: 1350,\n        labels: {\n            fra: { routes: \"9a+\", boulder: \"9A+\" },\n            usa: { routes: \"5.15a\", boulders: \"V18\" }\n        }\n    },\n    \"37\": {\n        id: 37,\n        score: 1375,\n        labels: {\n            fra: { routes: \"9a+/9b\", boulder: \"9A+/9B\" },\n            usa: { routes: \"5.15a/b\", boulders: \"V18/19\" }\n        }\n    },\n    \"38\": {\n        id: 38,\n        score: 1400,\n        labels: {\n            fra: { routes: \"9b\", boulder: \"9B\" },\n            usa: { routes: \"5.15b\", boulders: \"V19\" }\n        }\n    },\n    \"39\": {\n        id: 39,\n        score: 1425,\n        labels: {\n            fra: { routes: \"9b/+\", boulder: \"9B/+\" },\n            usa: { routes: \"5.15b/c\", boulders: \"V19/20\" }\n        }\n    },\n    \"40\": {\n        id: 40,\n        score: 1450,\n        labels: {\n            fra: { routes: \"9b+\", boulder: \"9B+\" },\n            usa: { routes: \"5.15c\", boulders: \"V20\" }\n        }\n    },\n    \"41\": {\n        id: 41,\n        score: 1475,\n        labels: {\n            fra: { routes: \"9b+/9c\", boulder: \"9B+/9C\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"42\": {\n        id: 42,\n        score: 1500,\n        labels: {\n            fra: { routes: \"9c\", boulder: \"9C\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"43\": {\n        id: 43,\n        score: 1525,\n        labels: {\n            fra: { routes: \"9c/+\", boulder: \"9C/+\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"44\": {\n        id: 44,\n        score: 1550,\n        labels: {\n            fra: { routes: \"9c+\", boulder: \"9C+\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"45\": {\n        id: 45,\n        score: 1575,\n        labels: {\n            fra: { routes: \"9c+/10a\", boulder: \"9C+/10A\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    }\n};\n\nconst oldGradeIds = {\n    \"-\": 0,\n    \"2\": 5,\n    \"3a\": 6,\n    \"3b\": 7,\n    \"3c\": 8,\n    \"4a\": 9,\n    \"4b\": 10,\n    \"4c\": 11,\n    \"5a\": 12,\n    \"5b\": 13,\n    \"5c\": 14,\n    \"6a\": 15,\n    \"6a+\": 16,\n    \"6b\": 17,\n    \"6b+\": 18,\n    \"6c\": 19,\n    \"6c+\": 20,\n    \"7a\": 21,\n    \"7a+\": 22,\n    \"7b\": 23,\n    \"7b+\": 24,\n    \"7c\": 25,\n    \"7c+\": 26,\n    \"8a\": 27,\n    \"8a+\": 28,\n    \"8b\": 29,\n    \"8b+\": 30,\n    \"8c\": 31,\n    \"8c+\": 32,\n    \"9a\": 33,\n    \"9a+\": 34,\n    \"9b\": 35,\n    \"9b+\": 36,\n    \"9c\": 37,\n    \"8c/+\": 38,\n    \"8c+/9a\": 39,\n    \"9a/+\": 40,\n    \"9a+/9b\": 41\n};\n\nexport const AscentGradeMapping = Object.values(AscentGrades).reduce((res, a) => {\n    const oldId = oldGradeIds[a.labels.fra.routes];\n    return typeof oldId !== \"undefined\"\n        ? {\n              ...res,\n              [oldId]: a.id\n          }\n        : res;\n}, {});\n\nif (AscentGradeMapping.count !== oldGradeIds.count) {\n    throw new Error(\"count are not equal\");\n}\n","import { getNamesArrayFromBitMask } from \"./bitmaskUtils\";\nimport { AscentMethods } from \"../model/AscentMethods\";\nimport { AscentNotes } from \"../model/AscentNotes\";\nimport { getAscentTypeById } from \"./ascentUtils\";\nimport { AscentGradeMapping, AscentGrades } from \"../model/AscentGrades\";\n\nconst transformAscents = ascents => ascents\n  .filter(a => a.dbascent === \"false\")\n  .sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0))\n  .map(ascent => {\n    ascent.notes = getNamesArrayFromBitMask(AscentNotes, ascent.note);\n    ascent.method = AscentMethods[ascent.style];\n    ascent.type = getAscentTypeById(ascent.type);\n\n    if (ascent.objectclass === \"CLS_UserAscent_Try\") {\n      ascent.isTry = true;\n    }\n\n    const newGradeId = AscentGradeMapping[ascent.grade];\n    if (!newGradeId) {\n      console.error(\"gradeId not found\", ascent.grade);\n    }\n    ascent.grade = AscentGrades[newGradeId];\n    return ascent;\n  });\n\nexport default transformAscents;","import {AscentTypes} from '../model/AscentTypes'\n\nexport const getAscentTypeById = (id = 0) =>\n    [AscentTypes.ROUTES, AscentTypes.BOULDERS, AscentTypes.MULTI_PITCH][id];\n\nexport const getAscentTypeId = shorthand =>\n    ({\n        routes: 0,\n        boulders: 1,\n        \"multi-pitch\": 2\n    }[shorthand]);\n\nexport const isRoute = shorthand => {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof shorthand !== \"string\") {\n            console.error(\"isRoute is not called with string\", shorthand);\n        }\n    }\n\n    return shorthand === AscentTypes.ROUTES.shorthand;\n};\n\nexport const isBoulder = shorthand => {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof shorthand !== \"string\") {\n            console.error(\"isBoulder is not called with string\", shorthand);\n        }\n    }\n\n    return shorthand === AscentTypes.BOULDERS.shorthand;\n};\n","/* eslint max-len:0 */\n\nimport React from \"react\";\nimport Moment from \"moment\";\n// import { format } from \"d3-format\";\n\nimport { TimeSeries, TimeRange, count } from \"pondjs\";\n\nimport {\n  ChartContainer,\n  ChartRow,\n  Charts,\n  YAxis,\n\n  ScatterChart,\n  Brush,\n\n  Resizable,\n  // styler,\n} from \"react-timeseries-charts\";\n\nimport { getNamesArrayFromBitMask } from \"../utils/bitmaskUtils\";\nimport { AscentMethods } from \"../model/AscentMethods\";\nimport { AscentNotes } from \"../model/AscentNotes\";\nimport fetchAscents from \"../utils/fetchAscents\";\nimport transformAscents from \"../utils/transformAscents\";\nimport { AscentGradeMapping, AscentGrades } from \"../model/AscentGrades\";\n\n// const style = styler([\n//   { key: \"distance\", color: \"#e2e2e2\" },\n//   { key: \"ascent\", color: \"#e2e2e2\", width: 1, opacity: 0.5 },\n//   { key: \"count\", color: \"#111\", width: 20, opacity: 1 },\n//   { key: \"cadence\", color: \"#ff47ff\" },\n//   { key: \"power\", color: \"green\", width: 1, opacity: 0.5 },\n//   { key: \"temperature\", color: \"#cfc793\" },\n//   { key: \"speed\", color: \"steelblue\", width: 1, opacity: 0.5 }\n// ]);\n\nconst colors = {\n  redpoint: \"#f03c3c\",\n  flash: \"#ffca10\",\n  onsight: \"#333\",\n  toprope: \"#666\",\n  attempt: \"#fff\"\n};\n\nclass AscentsChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { ascents } = props;\n\n    const points = ascents.map(ascent => [\n      new Moment(ascent.date).toDate().getTime(),\n      ascent\n    ]);\n\n    const ascentsPerDay = Object.entries(\n      ascents.reduce((res, ascent) => {\n        const day = new Moment(ascent.date).format(\"YYYY-MM-DD\");\n        return { ...res, [day]: res[day] ? res[day] + 1 : 1 };\n      }, {})\n    )\n      .map(([date, count]) => [new Moment(date).toDate().getTime(), count])\n      .sort(([dateA], [dateB]) => (dateA < dateB ? -1 : dateA > dateB ? 1 : 0));\n\n    const series = new TimeSeries({\n      name: \"Ascents\",\n      columns: [\"time\", \"ascent\"],\n      points\n    });\n\n    const dailySeries = series.fixedWindowRollup({\n      windowSize: \"3d\",\n      aggregation: { count: { ascent: count() } }\n    });\n\n    console.log(\"series\", series.toJSON());\n    console.log(\"dailySeries\", dailySeries.toJSON());\n\n    let begin = Moment(series.range().begin());\n    let end = Moment(series.range().end());\n    let diff = end.diff(begin, \"days\");\n    begin = begin.subtract(diff * 0.025, \"days\").toDate();\n    end = end.add(diff * 0.025, \"days\").toDate();\n    const startRange = new TimeRange([begin.getTime(), end.getTime()]);\n\n    this.state = {\n      series,\n      dailySeries,\n      startRange,\n      timerange: startRange,\n      brushrange: startRange,\n      begin,\n      end,\n      hover: null,\n      highlight: null,\n      selection: null,\n    };\n  }\n\n  // Handles when the brush changes the timerange\n  handleTimeRangeChange = timerange => {\n    if (timerange) {\n      this.setState({ timerange, brushrange: timerange });\n    } else {\n      this.setState({ timerange: this.state.startRange, brushrange: this.state.startRange });\n    }\n  };\n\n  handleSelectionChanged = point => this.setState({ selection: point });\n  handleMouseNear = point => this.setState({ highlight: point });\n\n  getGradeLabel = value => {\n    const grade = AscentGrades[value];\n    if(grade) {\n      return grade.labels.fra.routes\n    }\n    console.error('unknown grade!', value)\n    return ''\n  }\n\n  render() {\n    const {\n      startRange,\n      series,\n      dailySeries,\n      begin,\n      end,\n      highlight\n    } = this.state;\n\n\n    let infoValues = [];\n    if (highlight) {\n      let ascent = highlight.event.get(\"ascent\");\n      infoValues = [{\n        label: `${ascent.cragname} - ${ascent.name}`,\n        value: `${ascent.grade.labels.fra.routes} ${\n          ascent.isTry ? \"attempt\" : ascent.method.shorthand\n          }`\n      }];\n    }\n\n    const brushStyle = {\n      // boxShadow: \"inset 0px 2px 5px -2px rgba(189, 189, 189, 0.75)\",\n      // background: \"#FEFEFE\",\n      paddingTop: 10\n    };\n\n    const perEventStyle = (column, event) => {\n      let ascent = event.get(\"ascent\");\n      const color = colors[ascent.isTry ? \"attempt\" : ascent.method.shorthand];\n      return {\n        normal: {\n          fill: color,\n          stroke: \"#00000036\",\n          opacity: 0.8\n        },\n        highlighted: {\n          fill: color,\n          stroke: \"#00000036\",\n          strokeWidth: 5,\n          opacity: 0.8\n        },\n        selected: {\n          fill: color,\n          stroke: \"#00000036\",\n          strokeWidth: 3,\n          opacity: 1\n        },\n        muted: {\n          fill: color,\n          stroke: \"none\",\n          opacity: 0.4\n        }\n      };\n    };\n\n    const timeAxisStyle = {\n      values: { valueColor: \"Green\", valueWeight: 200, valueSize: 12 }\n    };\n\n    const YAxisStyle = {\n      axis: { axisColor: \"#C0C0C0\" },\n      label: { display: \"none\" },\n      values: { valueSize: 12 }\n    };\n\n    const BrushYAxisStyle = {\n      // label: {\n      //   stroke: \"none\",\n      //   fill: \"#8B7E7E\",\n      //   fontWeight: 100,\n      //   fontSize: 12,\n      //   font: '\"Goudy Bookletter 1911\", sans-serif\"'\n      // },\n      // values: {\n      //   stroke: \"none\",\n      //   fill: \"#8B7E7E\",\n      //   fontWeight: 100,\n      //   fontSize: 11,\n      //   font: '\"Goudy Bookletter 1911\", sans-serif\"'\n      // },\n      // ticks: { fill: \"none\", stroke: \"none\" },\n      // axis: { fill: \"none\", stroke: \"#C0C0C0\" }\n    };\n\n    let ScatterPointsStyle = {\n      fill: \"black\",\n      stroke: \"#00000036\",\n      opacity: 0.8\n    }\n\n    ScatterPointsStyle = {\n      normal: ScatterPointsStyle,\n      highlighted: ScatterPointsStyle,\n      selected: ScatterPointsStyle,\n      muted: ScatterPointsStyle\n    }\n\n    return (\n      <div>\n        <div>\n          <div>\n            <Resizable>\n              <ChartContainer\n                timeRange={this.state.timerange}\n                timeAxisStyle={timeAxisStyle}\n                maxTime={end}\n                minTime={begin}\n                enablePanZoom={true}\n                onTimeRangeChanged={this.handleTimeRangeChange}\n              >\n                <ChartRow height=\"400\" debug={false}>\n                  <YAxis\n                    id=\"gradesY\"\n                    min={series.min(\"ascent.grade.id\") - 2}\n                    max={series.max(\"ascent.grade.id\") + 2}\n                    style={YAxisStyle}\n                    width=\"0\"\n                    format={this.getGradeLabel}\n                  />\n                  <Charts>\n                    <ScatterChart\n                      axis=\"gradesY\"\n                      series={series}\n                      columns={[\"ascent.grade.id\"]}\n                      style={perEventStyle}\n                      info={infoValues}\n                      infoTimeFormat={e => e.toLocaleDateString()}\n                      infoHeight={28}\n                      infoWidth={400}\n                      infoStyle={{\n                        fill: \"black\",\n                        color: \"#DDD\"\n                      }}\n                      ScatterChart\n                      selected={this.state.selection}\n                      // onSelectionChange={p => this.handleSelectionChanged(p)}\n                      onMouseNear={p => this.handleMouseNear(p)}\n                      highlight={this.state.highlight}\n                      radius={8}\n                    />\n                  </Charts>\n                </ChartRow>\n              </ChartContainer>\n            </Resizable>\n          </div>\n          <div>\n            <div style={brushStyle}>\n              <Resizable>\n                <ChartContainer\n                  timeRange={startRange}\n                  timeAxisStyle={timeAxisStyle}\n                  hideTimeAxis={false}\n                >\n                  <ChartRow height=\"50\" debug={false}>\n                    <Brush\n                      timeRange={this.state.brushrange}\n                      onTimeRangeChanged={this.handleTimeRangeChange}\n                    />\n                    <YAxis\n                      id=\"brushY\"\n                      max={series.max(\"ascent.grade.id\")}\n                      min={series.min(\"ascent.grade.id\")}\n                      visible={false}\n                      style={BrushYAxisStyle}\n                    />\n                    <Charts>\n                      <ScatterChart\n                        axis=\"brushY\"\n                        series={series}\n                        columns={[\"ascent.grade.id\"]}\n                        style={() => ScatterPointsStyle}\n                        info={infoValues}\n                        infoHeight={28}\n                        infoWidth={110}\n                        infoStyle={{\n                          fill: \"black\",\n                          color: \"#DDD\"\n                        }}\n                        format=\".1f\"\n                      />\n                    </Charts>\n                  </ChartRow>\n                </ChartContainer>\n              </Resizable>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AscentsChart;\n","import React from 'react';\nimport { Input, Icon, Form, Button } from 'antd';\nimport queryString from 'query-string';\n\nconst query = queryString.parse(window.location.search);\n\nclass UserIdInput extends React.Component {\n  state = {\n    userId: query && query.userId && /^[0-9]+$/.test(query.userId) ? query.userId : '',\n  };\n\n  componentDidMount() {\n    this.handleSubmit();\n  }\n\n  checkUserId = value => /^[0-9]+$/.test(value)\n\n  handleSubmit = (event) => {\n    if(event) {\n      event.preventDefault();\n    }\n\n    if (this.checkUserId(this.userIdInput.state.value)) {\n      this.props.onSubmit(this.userIdInput.state.value)\n    }\n  }\n\n  onClearUserId = () => {\n    this.userIdInput.focus();\n    this.setState({ userId: '' });\n    this.props.onSubmit()\n  }\n\n  onChangeUserId = (e) => {\n    const { value } = e.target;\n    if (this.checkUserId(value)) {\n      this.setState({ userId: value });\n    }\n  }\n\n  render() {\n    const { userId } = this.state;\n    const suffix = userId ? <Icon type=\"close-circle\" onClick={this.onClearUserId} /> : null;\n\n    // Only show error after a field is touched.\n    return (\n      <Form layout=\"inline\" onSubmit={this.handleSubmit}>\n        <Form.Item>\n          <Input\n            placeholder=\"Enter your userId\"\n            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            suffix={suffix}\n            value={userId}\n            onChange={this.onChangeUserId}\n            ref={node => this.userIdInput = node}\n          />\n        </Form.Item>\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            disabled={!userId}\n          >\n            Load ascents!\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nexport default UserIdInput;\n\n","import React from 'react';\nimport AscentsChart from './components/AscentsChart'\nimport UserIdInput from './components/UserIdInput'\n\nimport fetchAscents from \"./utils/fetchAscents\";\nimport transformAscents from \"./utils/transformAscents\";\n\nclass Ascents extends React.PureComponent {\n  state = {\n    userId: undefined,\n    ascents: [],\n    isLoading: false,\n    error: null,\n  };\n\n  onSubmitUserIdInput = async userId => {\n    try {\n      this.setState({ isLoading: true });\n      const rawAscents = await fetchAscents(userId);\n      const ascents = transformAscents(rawAscents);\n      console.log('ascents', ascents)\n      this.setState({\n        userId,\n        ascents,\n        error: null,\n        isLoading: false,\n      });\n    } catch (error) {\n      console.log('error', error)\n      this.setState({\n        error: error.message,\n        isLoading: false,\n      })\n    }\n  }\n\n  render() {\n    const {isLoading, error, ascents} = this.state;\n    console.log('render', this.state)\n    return (\n      <div className=\"App\">\n        <UserIdInput onSubmit={this.onSubmitUserIdInput} />\n\n        {isLoading && (\n          <div>Loading...</div>\n        )}\n\n        {error && (\n          <div>Error: {error}</div>\n        )}\n\n        {!isLoading && ascents.length > 0 && (\n          <AscentsChart ascents={ascents}/>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Ascents;\n","import React from 'react';\nimport './App.css';\nimport Ascents from './climbing/Ascents'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Ascents />\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}