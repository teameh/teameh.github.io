{"version":3,"sources":["climbing/utils/bitmaskUtils.js","climbing/model/AscentTypes.js","climbing/model/AscentMethods.js","climbing/model/AscentNotes.js","climbing/model/AscentGrades.js","climbing/components/AscentsChart.js","climbing/utils/ascentUtils.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["getNamesArrayFromBitMask","bitmaskFlags","values","mask","arguments","length","undefined","Object","toConsumableArray","Array","reduce","res","_","val","Math","pow","concat","getArrayFromBitMask","keys","key","indexOf","value","name","AscentTypes","ROUTES","id","shorthand","label","BOULDERS","MULTI_PITCH","AscentMethods","1","ascentTypes","2","3","4","5","AscentNotes","NOTE_FA","score","routes","boulders","NOTE_2ND_GO","NOTE_TRAD","NOTE_SOFT","NOTE_HARD","NOTE_TRAV","NOTE_ONE_HANG","AscentGrades","labels","fra","boulder","usa","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","oldGradeIds","-","3a","3b","3c","4a","4b","4c","5a","5b","5c","6a","6a+","6b","6b+","6c","6c+","7a","7a+","7b","7b+","7c","7c+","8a","8a+","8b","8b+","8c","8c+","9a","9a+","9b","9b+","9c","8c/+","8c+/9a","9a/+","9a+/9b","AscentGradeMapping","a","oldId","objectSpread","defineProperty","count","Error","ascents","filter","dbascent","map","ascent","notes","note","method","style","type","getAscentTypeById","objectclass","isTry","newGradeId","grade","console","error","date","sort","b","points","Moment","toDate","getTime","ascentsPerDay","entries","day","format","_ref","_ref2","slicedToArray","_ref3","_ref4","dateA","dateB","log","series","TimeSeries","columns","dailySeries","fixedWindowRollup","windowSize","aggregation","toJSON","begin","range","end","diff","subtract","add","startRange","TimeRange","colors","redpoint","flash","onsight","toprope","attempt","AscentsChart","state","hover","highlight","selection","timerange","brushrange","handleTimeRangeChange","_this","setState","handleSelectionChanged","point","handleMouseNear","_this2","this","infoValues","timeAxisStyle","valueColor","valueWeight","valueSize","ScatterPointsStyle","fill","stroke","opacity","normal","highlighted","selected","muted","react_default","createElement","lib_entry","timeRange","maxTime","minTime","enablePanZoom","onTimeRangeChanged","height","debug","min","max","axis","axisColor","display","width","column","event","get","color","strokeWidth","info","infoHeight","infoWidth","infoStyle","ScatterChart","onMouseNear","p","radius","paddingTop","hideTimeAxis","visible","React","Component","App","className","components_AscentsChart","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b03e4ba5.chunk.js","sourcesContent":["/* eslint-disable no-bitwise */\nexport const getBitMaskFromArray = (arrayWithValues = []) =>\n    arrayWithValues.reduce((res, val) => res | val, 0);\n\nexport const getArrayFromBitMask = (mask = 0) =>\n    [...Array(16)].reduce((res, _, val) => (mask & (2 ** val) ? [...res, 2 ** val] : res), []);\n\n/*\n * bitmaskFlags should be an object with the following signature:\n *\n * bitmaskFlags = {\n *   SOME_CONST: {\n *     value: int,\n *     name: string\n *   },\n *   ...\n * };\n *\n */\nexport const getNamesArrayFromBitMask = (bitmaskFlags, mask = 0) => {\n    const values = getArrayFromBitMask(mask);\n    return Object.keys(bitmaskFlags).reduce(\n        (res, key) =>\n            values.indexOf(bitmaskFlags[key].value) !== -1 ? [...res, bitmaskFlags[key].name] : res,\n        []\n    );\n};\n","export const AscentTypes = {\n    ROUTES: {\n        id: 0,\n        shorthand: \"routes\",\n        label: \"routes\"\n    },\n    BOULDERS: {\n        id: 1,\n        shorthand: \"boulders\",\n        label: \"boulders\"\n    },\n    MULTI_PITCH: {\n        id: 2,\n        shorthand: \"multi-pitch\",\n        label: \"multi-pitch\"\n    }\n};\n\n","import { AscentTypes } from \"./AscentTypes\";\n\nexport const AscentMethods = {\n    1: {\n        id: 1,\n        value: 0,\n        shorthand: \"redpoint\",\n        name: \"Redpoint\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand, AscentTypes.BOULDERS.shorthand]\n    },\n    2: {\n        id: 2,\n        value: 53,\n        shorthand: \"flash\",\n        name: \"Flash\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand, AscentTypes.BOULDERS.shorthand]\n    },\n    3: {\n        id: 3,\n        value: 145,\n        shorthand: \"onsight\",\n        name: \"Onsight\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand]\n    },\n    4: {\n        id: 4,\n        value: -52,\n        shorthand: \"toprope\",\n        name: \"Toprope\",\n        ascentTypes: [AscentTypes.ROUTES.shorthand]\n    },\n    5: {\n        id: 5,\n        value: 95,\n        shorthand: \"onsight\",\n        name: \"Onsight\",\n        ascentTypes: [AscentTypes.BOULDERS.shorthand]\n    }\n};\n\nexport const AscentMethodShortHands = [\"onsight\", \"flash\", \"redpoint\", \"toprope\"];\n","export const AscentNotes = {\n    NOTE_FA: {\n        name: \"First Ascent\",\n        value: 1,\n        score: {\n            routes: 30, // was 10 once\n            boulders: 20 // was 5 once..\n        }\n    },\n    NOTE_2ND_GO: {\n        name: \"Second Go\",\n        value: 2,\n        score: {\n            routes: 2,\n            boulders: 2\n        }\n    },\n    NOTE_TRAD: {\n        name: \"Traditional\",\n        value: 4,\n        score: {\n            routes: 30,\n            boulders: 0\n        }\n    },\n    NOTE_SOFT: {\n        name: \"Soft\",\n        value: 8,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_HARD: {\n        name: \"Hard\",\n        value: 16,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_TRAV: {\n        name: \"Traverse\",\n        value: 32,\n        score: {\n            routes: 0,\n            boulders: 0\n        }\n    },\n    NOTE_ONE_HANG: {\n        name: \"One Hang\",\n        value: 64,\n        score: {\n            routes: -128,\n            boulders: 0\n        }\n    }\n};\n","export const AscentGrades = {\n    \"1\": {\n        id: 1,\n        score: 0,\n        labels: {\n            fra: { routes: \"-\", boulder: \"-\" },\n            usa: { routes: \"3/4\", boulders: \"VB\" }\n        }\n    },\n    \"2\": {\n        id: 2,\n        score: 80,\n        labels: {\n            fra: { routes: \"2\", boulder: \"2\" },\n            usa: { routes: \"5.1\", boulders: \"VB\" }\n        }\n    },\n    \"3\": {\n        id: 3,\n        score: 100,\n        labels: {\n            fra: { routes: \"3a\", boulder: \"3A\" },\n            usa: { routes: \"5.3\", boulders: \"VB\" }\n        }\n    },\n    \"4\": {\n        id: 4,\n        score: 120,\n        labels: {\n            fra: { routes: \"3b\", boulder: \"3B\" },\n            usa: { routes: \"5.3\", boulders: \"VB\" }\n        }\n    },\n    \"5\": {\n        id: 5,\n        score: 140,\n        labels: {\n            fra: { routes: \"3c\", boulder: \"3C\" },\n            usa: { routes: \"5.3\", boulders: \"V0-\" }\n        }\n    },\n    \"6\": {\n        id: 6,\n        score: 160,\n        labels: {\n            fra: { routes: \"4a\", boulder: \"4A\" },\n            usa: { routes: \"5.4\", boulders: \"V0\" }\n        }\n    },\n    \"7\": {\n        id: 7,\n        score: 180,\n        labels: {\n            fra: { routes: \"4b\", boulder: \"4B\" },\n            usa: { routes: \"5.5\", boulders: \"V0\" }\n        }\n    },\n    \"8\": {\n        id: 8,\n        score: 200,\n        labels: {\n            fra: { routes: \"4c\", boulder: \"4C\" },\n            usa: { routes: \"5.6\", boulders: \"V0\" }\n        }\n    },\n    \"9\": {\n        id: 9,\n        score: 250,\n        labels: {\n            fra: { routes: \"5\", boulder: \"5\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"10\": {\n        id: 10,\n        score: 250,\n        labels: {\n            fra: { routes: \"5a\", boulder: \"5A\" },\n            usa: { routes: \"5.7\", boulders: \"V1\" }\n        }\n    },\n    \"11\": {\n        id: 11,\n        score: 300,\n        labels: {\n            fra: { routes: \"5b\", boulder: \"5B\" },\n            usa: { routes: \"5.8\", boulders: \"V1\" }\n        }\n    },\n    \"12\": {\n        id: 12,\n        score: 350,\n        labels: {\n            fra: { routes: \"5c\", boulder: \"5C\" },\n            usa: { routes: \"5.9\", boulders: \"V2\" }\n        }\n    },\n    \"13\": {\n        id: 13,\n        score: 400,\n        labels: {\n            fra: { routes: \"6\", boulder: \"6\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"14\": {\n        id: 14,\n        score: 400,\n        labels: {\n            fra: { routes: \"6a\", boulder: \"6A\" },\n            usa: { routes: \"5.10a\", boulders: \"V3\" }\n        }\n    },\n    \"15\": {\n        id: 15,\n        score: 450,\n        labels: {\n            fra: { routes: \"6a+\", boulder: \"6A+\" },\n            usa: { routes: \"5.10b\", boulders: \"V3/4\" }\n        }\n    },\n    \"16\": {\n        id: 16,\n        score: 500,\n        labels: {\n            fra: { routes: \"6b\", boulder: \"6B\" },\n            usa: { routes: \"5.10c\", boulders: \"V4\" }\n        }\n    },\n    \"17\": {\n        id: 17,\n        score: 550,\n        labels: {\n            fra: { routes: \"6b+\", boulder: \"6B+\" },\n            usa: { routes: \"5.10d\", boulders: \"V4/V5\" }\n        }\n    },\n    \"18\": {\n        id: 18,\n        score: 600,\n        labels: {\n            fra: { routes: \"6c\", boulder: \"6C\" },\n            usa: { routes: \"5.11a\", boulders: \"V5\" }\n        }\n    },\n    \"19\": {\n        id: 19,\n        score: 650,\n        labels: {\n            fra: { routes: \"6c+\", boulder: \"6C+\" },\n            usa: { routes: \"5.11b\", boulders: \"V5/V6\" }\n        }\n    },\n    \"20\": {\n        id: 20,\n        score: 700,\n        labels: {\n            fra: { routes: \"7a\", boulder: \"7A\" },\n            usa: { routes: \"5.11d\", boulders: \"V6\" }\n        }\n    },\n    \"21\": {\n        id: 21,\n        score: 750,\n        labels: {\n            fra: { routes: \"7a+\", boulder: \"7A+\" },\n            usa: { routes: \"5.12a\", boulders: \"V7\" }\n        }\n    },\n    \"22\": {\n        id: 22,\n        score: 800,\n        labels: {\n            fra: { routes: \"7b\", boulder: \"7B\" },\n            usa: { routes: \"5.12b\", boulders: \"V8\" }\n        }\n    },\n    \"23\": {\n        id: 23,\n        score: 850,\n        labels: {\n            fra: { routes: \"7b+\", boulder: \"7B+\" },\n            usa: { routes: \"5.12c\", boulders: \"V8/9\" }\n        }\n    },\n    \"24\": {\n        id: 24,\n        score: 900,\n        labels: {\n            fra: { routes: \"7c\", boulder: \"7C\" },\n            usa: { routes: \"5.12d\", boulders: \"V9\" }\n        }\n    },\n    \"25\": {\n        id: 25,\n        score: 950,\n        labels: {\n            fra: { routes: \"7c+\", boulder: \"7C+\" },\n            usa: { routes: \"5.13a\", boulders: \"V10\" }\n        }\n    },\n    \"26\": {\n        id: 26,\n        score: 1000,\n        labels: {\n            fra: { routes: \"8a\", boulder: \"8A\" },\n            usa: { routes: \"5.13b\", boulders: \"V11\" }\n        }\n    },\n    \"27\": {\n        id: 27,\n        score: 1050,\n        labels: {\n            fra: { routes: \"8a+\", boulder: \"8A+\" },\n            usa: { routes: \"5.13c\", boulders: \"V12\" }\n        }\n    },\n    \"28\": {\n        id: 28,\n        score: 1100,\n        labels: {\n            fra: { routes: \"8b\", boulder: \"8B\" },\n            usa: { routes: \"5.13d\", boulders: \"V13\" }\n        }\n    },\n    \"29\": {\n        id: 29,\n        score: 1150,\n        labels: {\n            fra: { routes: \"8b+\", boulder: \"8B+\" },\n            usa: { routes: \"5.14a\", boulders: \"V14\" }\n        }\n    },\n    \"30\": {\n        id: 30,\n        score: 1200,\n        labels: {\n            fra: { routes: \"8c\", boulder: \"8C\" },\n            usa: { routes: \"5.14b\", boulders: \"V15\" }\n        }\n    },\n    \"31\": {\n        id: 31,\n        score: 1225,\n        labels: {\n            fra: { routes: \"8c/+\", boulder: \"8C/+\" },\n            usa: { routes: \"5.14b/c\", boulders: \"V15/16\" }\n        }\n    },\n    \"32\": {\n        id: 32,\n        score: 1250,\n        labels: {\n            fra: { routes: \"8c+\", boulder: \"8C+\" },\n            usa: { routes: \"5.14c\", boulders: \"V16\" }\n        }\n    },\n    \"33\": {\n        id: 33,\n        score: 1275,\n        labels: {\n            fra: { routes: \"8c+/9a\", boulder: \"8C+/9A\" },\n            usa: { routes: \"5.14c/d\", boulders: \"V16/17\" }\n        }\n    },\n    \"34\": {\n        id: 34,\n        score: 1300,\n        labels: {\n            fra: { routes: \"9a\", boulder: \"9A\" },\n            usa: { routes: \"5.14d\", boulders: \"V17\" }\n        }\n    },\n    \"35\": {\n        id: 35,\n        score: 1325,\n        labels: {\n            fra: { routes: \"9a/+\", boulder: \"9A/+\" },\n            usa: { routes: \"5.14d/.15a\", boulders: \"V17/18\" }\n        }\n    },\n    \"36\": {\n        id: 36,\n        score: 1350,\n        labels: {\n            fra: { routes: \"9a+\", boulder: \"9A+\" },\n            usa: { routes: \"5.15a\", boulders: \"V18\" }\n        }\n    },\n    \"37\": {\n        id: 37,\n        score: 1375,\n        labels: {\n            fra: { routes: \"9a+/9b\", boulder: \"9A+/9B\" },\n            usa: { routes: \"5.15a/b\", boulders: \"V18/19\" }\n        }\n    },\n    \"38\": {\n        id: 38,\n        score: 1400,\n        labels: {\n            fra: { routes: \"9b\", boulder: \"9B\" },\n            usa: { routes: \"5.15b\", boulders: \"V19\" }\n        }\n    },\n    \"39\": {\n        id: 39,\n        score: 1425,\n        labels: {\n            fra: { routes: \"9b/+\", boulder: \"9B/+\" },\n            usa: { routes: \"5.15b/c\", boulders: \"V19/20\" }\n        }\n    },\n    \"40\": {\n        id: 40,\n        score: 1450,\n        labels: {\n            fra: { routes: \"9b+\", boulder: \"9B+\" },\n            usa: { routes: \"5.15c\", boulders: \"V20\" }\n        }\n    },\n    \"41\": {\n        id: 41,\n        score: 1475,\n        labels: {\n            fra: { routes: \"9b+/9c\", boulder: \"9B+/9C\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"42\": {\n        id: 42,\n        score: 1500,\n        labels: {\n            fra: { routes: \"9c\", boulder: \"9C\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"43\": {\n        id: 43,\n        score: 1525,\n        labels: {\n            fra: { routes: \"9c/+\", boulder: \"9C/+\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"44\": {\n        id: 44,\n        score: 1550,\n        labels: {\n            fra: { routes: \"9c+\", boulder: \"9C+\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    },\n    \"45\": {\n        id: 45,\n        score: 1575,\n        labels: {\n            fra: { routes: \"9c+/10a\", boulder: \"9C+/10A\" },\n            usa: { routes: \"\", boulders: \"\" }\n        }\n    }\n};\n\nconst oldGradeIds = {\n    \"-\": 0,\n    \"2\": 5,\n    \"3a\": 6,\n    \"3b\": 7,\n    \"3c\": 8,\n    \"4a\": 9,\n    \"4b\": 10,\n    \"4c\": 11,\n    \"5a\": 12,\n    \"5b\": 13,\n    \"5c\": 14,\n    \"6a\": 15,\n    \"6a+\": 16,\n    \"6b\": 17,\n    \"6b+\": 18,\n    \"6c\": 19,\n    \"6c+\": 20,\n    \"7a\": 21,\n    \"7a+\": 22,\n    \"7b\": 23,\n    \"7b+\": 24,\n    \"7c\": 25,\n    \"7c+\": 26,\n    \"8a\": 27,\n    \"8a+\": 28,\n    \"8b\": 29,\n    \"8b+\": 30,\n    \"8c\": 31,\n    \"8c+\": 32,\n    \"9a\": 33,\n    \"9a+\": 34,\n    \"9b\": 35,\n    \"9b+\": 36,\n    \"9c\": 37,\n    \"8c/+\": 38,\n    \"8c+/9a\": 39,\n    \"9a/+\": 40,\n    \"9a+/9b\": 41\n};\n\nexport const AscentGradeMapping = Object.values(AscentGrades).reduce((res, a) => {\n    const oldId = oldGradeIds[a.labels.fra.routes];\n    return typeof oldId !== \"undefined\"\n        ? {\n              ...res,\n              [oldId]: a.id\n          }\n        : res;\n}, {});\n\nif (AscentGradeMapping.count !== oldGradeIds.count) {\n    throw new Error(\"count are not equal\");\n}\n","/* eslint max-len:0 */\n\nimport React from \"react\";\nimport Moment from \"moment\";\n// import { format } from \"d3-format\";\n\nimport { TimeSeries, TimeRange, count } from \"pondjs\";\n\nimport {\n    ChartContainer,\n    ChartRow,\n    Charts,\n    YAxis,\n\n    ScatterChart,\n    Brush,\n\n    Resizable,\n    // styler,\n} from \"react-timeseries-charts\";\n\nimport { getNamesArrayFromBitMask } from \"../utils/bitmaskUtils\";\nimport { AscentMethods } from \"../model/AscentMethods\";\nimport { AscentNotes } from \"../model/AscentNotes\";\nimport { getAscentTypeById } from \"../utils/ascentUtils\";\nimport { AscentGradeMapping, AscentGrades } from \"../model/AscentGrades\";\n\nimport ascentJSON from \"../data/ascents.json\";\n\n// const style = styler([\n//   { key: \"distance\", color: \"#e2e2e2\" },\n//   { key: \"ascent\", color: \"#e2e2e2\", width: 1, opacity: 0.5 },\n//   { key: \"count\", color: \"#111\", width: 20, opacity: 1 },\n//   { key: \"cadence\", color: \"#ff47ff\" },\n//   { key: \"power\", color: \"green\", width: 1, opacity: 0.5 },\n//   { key: \"temperature\", color: \"#cfc793\" },\n//   { key: \"speed\", color: \"steelblue\", width: 1, opacity: 0.5 }\n// ]);\n\n\nconst ascents = ascentJSON\n  .filter(a => a.dbascent === \"false\")\n\n  .map(ascent => {\n    ascent.notes = getNamesArrayFromBitMask(AscentNotes, ascent.note);\n    ascent.method = AscentMethods[ascent.style];\n    ascent.type = getAscentTypeById(ascent.type);\n\n    if (ascent.objectclass === \"CLS_UserAscent_Try\") {\n      ascent.isTry = true;\n    }\n\n    const newGradeId = AscentGradeMapping[ascent.grade];\n    if (!newGradeId) {\n      console.error(\"gradeId not found\", ascent.grade);\n    }\n    ascent.grade = AscentGrades[newGradeId];\n\n    return ascent;\n  })\n  .filter(a => a.date > \"2008\")\n  .sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n\nconst points = ascents.map(ascent => [\n  new Moment(ascent.date).toDate().getTime(),\n  ascent\n]);\n\n\nconst ascentsPerDay = Object.entries(\n  ascents.reduce((res, ascent) => {\n    const day = new Moment(ascent.date).format(\"YYYY-MM-DD\");\n    return { ...res, [day]: res[day] ? res[day] + 1 : 1 };\n  }, {})\n)\n  .map(([date, count]) => [new Moment(date).toDate().getTime(), count])\n  .sort(([dateA], [dateB]) => (dateA < dateB ? -1 : dateA > dateB ? 1 : 0));\n\nconsole.log(\"ascentsPerDay\", ascentsPerDay[0]);\nconsole.log(\"points\", points[0]);\n\nconst series = new TimeSeries({\n  name: \"Gust\",\n  columns: [\"time\", \"ascent\"],\n  points\n});\n\nconst dailySeries = series.fixedWindowRollup({\n  windowSize: \"3d\",\n  aggregation: { count: { ascent: count() } }\n});\n\nconsole.log(\"series\", series.toJSON());\nconsole.log(\"dailySeries\", dailySeries.toJSON());\n\nlet begin = Moment(series.range().begin());\nlet end = Moment(series.range().end());\nlet diff = end.diff(begin, \"days\");\nbegin = begin.subtract(diff * 0.025, \"days\").toDate();\nend = end.add(diff * 0.025, \"days\").toDate();\nconst startRange = new TimeRange([begin.getTime(), end.getTime()]);\n\nconst colors = {\n  redpoint: \"#f03c3c\",\n  flash: \"#ffca10\",\n  onsight: \"#333\",\n  toprope: \"#666\",\n  attempt: \"#fff\"\n};\n\nclass AscentsChart extends React.Component {\n  state = {\n    hover: null,\n    highlight: null,\n    selection: null,\n    timerange: startRange,\n    brushrange: startRange\n  };\n\n  // Handles when the brush changes the timerange\n  handleTimeRangeChange = timerange => {\n    if (timerange) {\n      this.setState({ timerange, brushrange: timerange });\n    } else {\n      this.setState({ timerange: startRange, brushrange: startRange });\n    }\n  };\n\n  handleSelectionChanged = point => {\n    this.setState({\n      selection: point\n    });\n  };\n\n  handleMouseNear = point => {\n    this.setState({\n      highlight: point\n    });\n  };\n\n  render() {\n    // const highlight = this.state.highlight;\n    // // const formatter = format(\".2f\");\n    // let text = `Speed: - mph, time: -:--`;\n    let infoValues = [];\n    // if (highlight) {\n    //   // const speedText = `${formatter(highlight.event.get(highlight.column))} mph`;\n    //   // text = `\n    //   //   Speed: ${speedText},\n    //   //   time: ${this.state.highlight.event.timestamp().toLocaleTimeString()}\n    //   // `;\n    //   // infoValues = [{ label: \"Speed\", value: speedText }];\n    // }\n//\n\n    const brushStyle = {\n      // boxShadow: \"inset 0px 2px 5px -2px rgba(189, 189, 189, 0.75)\",\n      // background: \"#FEFEFE\",\n      paddingTop: 10\n    };\n\n    const perEventStyle = (column, event) => {\n      let ascent = event.get(\"ascent\");\n      const color = colors[ascent.isTry ? \"attempt\" : ascent.method.shorthand];\n      return {\n        normal: {\n          fill: color,\n          stroke: \"#00000036\",\n          opacity: 0.8\n        },\n        highlighted: {\n          fill: color,\n          stroke: \"#00000036\",\n          strokeWidth: 5,\n          opacity: 0.8\n        },\n        selected: {\n          fill: color,\n          stroke: \"#00000036\",\n          strokeWidth: 3,\n          opacity: 1\n        },\n        muted: {\n          fill: color,\n          stroke: \"none\",\n          opacity: 0.4\n        }\n      };\n    };\n\n    const timeAxisStyle = {\n      values: { valueColor: \"Green\", valueWeight: 200, valueSize: 12 }\n    };\n\n    const YAxisStyle = {\n      axis: { axisColor: \"#C0C0C0\" },\n      label: { display: \"none\" },\n      values: { valueSize: 12 }\n    };\n\n    const BrushYAxisStyle = {\n      // label: {\n      //   stroke: \"none\",\n      //   fill: \"#8B7E7E\",\n      //   fontWeight: 100,\n      //   fontSize: 12,\n      //   font: '\"Goudy Bookletter 1911\", sans-serif\"'\n      // },\n      // values: {\n      //   stroke: \"none\",\n      //   fill: \"#8B7E7E\",\n      //   fontWeight: 100,\n      //   fontSize: 11,\n      //   font: '\"Goudy Bookletter 1911\", sans-serif\"'\n      // },\n      // ticks: { fill: \"none\", stroke: \"none\" },\n      // axis: { fill: \"none\", stroke: \"#C0C0C0\" }\n    };\n\n    let ScatterPointsStyle = {\n        fill: \"black\",\n        stroke: \"#00000036\",\n        opacity: 0.8\n      }\n\n    ScatterPointsStyle = {\n        normal: ScatterPointsStyle,\n        highlighted: ScatterPointsStyle,\n        selected: ScatterPointsStyle,\n        muted: ScatterPointsStyle\n    }\n\n    return (\n      <div>\n        <div>\n          <div>\n            <Resizable>\n              <ChartContainer\n                timeRange={this.state.timerange}\n                timeAxisStyle={timeAxisStyle}\n                maxTime={end}\n                minTime={begin}\n                enablePanZoom={true}\n                onTimeRangeChanged={this.handleTimeRangeChange}\n              >\n                <ChartRow height=\"400\" debug={false}>\n                  <YAxis\n                    id=\"gradesY\"\n                    min={series.min(\"ascent.grade.id\") - 2}\n                    max={series.max(\"ascent.grade.id\") + 2}\n                    style={YAxisStyle}\n                    width=\"0\"\n                    format={val => AscentGrades[val].labels.fra.routes}\n                  />\n                  <Charts>\n                    <ScatterChart\n                      axis=\"gradesY\"\n                      series={series}\n                      columns={[\"ascent.grade.id\"]}\n                      style={perEventStyle}\n                      info={infoValues}\n                      infoHeight={28}\n                      infoWidth={110}\n                      infoStyle={{\n                        fill: \"black\",\n                        color: \"#DDD\"\n                      }}\n                      ScatterChart\n                      selected={this.state.selection}\n                      // onSelectionChange={p => this.handleSelectionChanged(p)}\n                      onMouseNear={p => this.handleMouseNear(p)}\n                      highlight={this.state.highlight}\n                      radius={8}\n                    />\n                  </Charts>\n                </ChartRow>\n              </ChartContainer>\n            </Resizable>\n          </div>\n          <div>\n            <div style={brushStyle}>\n              <Resizable>\n                <ChartContainer\n                  timeRange={startRange}\n                  timeAxisStyle={timeAxisStyle}\n                  hideTimeAxis={false}\n                >\n                  <ChartRow height=\"50\" debug={false}>\n                    <Brush\n                      timeRange={this.state.brushrange}\n                      onTimeRangeChanged={this.handleTimeRangeChange}\n                    />\n                    <YAxis\n                      id=\"brushY\"\n                      max={series.max(\"ascent.grade.id\")}\n                      min={series.min(\"ascent.grade.id\")}\n                      visible={false}\n                      style={BrushYAxisStyle}\n                    />\n                    <Charts>\n                      <ScatterChart\n                        axis=\"brushY\"\n                        series={series}\n                        columns={[\"ascent.grade.id\"]}\n                        style={() => ScatterPointsStyle}\n                        info={infoValues}\n                        infoHeight={28}\n                        infoWidth={110}\n                        infoStyle={{\n                          fill: \"black\",\n                          color: \"#DDD\"\n                        }}\n                        format=\".1f\"\n                      />\n                    </Charts>\n                  </ChartRow>\n                </ChartContainer>\n              </Resizable>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AscentsChart;\n","import {AscentTypes} from '../model/AscentTypes'\n\nexport const getAscentTypeById = (id = 0) =>\n    [AscentTypes.ROUTES, AscentTypes.BOULDERS, AscentTypes.MULTI_PITCH][id];\n\nexport const getAscentTypeId = shorthand =>\n    ({\n        routes: 0,\n        boulders: 1,\n        \"multi-pitch\": 2\n    }[shorthand]);\n\nexport const isRoute = shorthand => {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof shorthand !== \"string\") {\n            console.error(\"isRoute is not called with string\", shorthand);\n        }\n    }\n\n    return shorthand === AscentTypes.ROUTES.shorthand;\n};\n\nexport const isBoulder = shorthand => {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof shorthand !== \"string\") {\n            console.error(\"isBoulder is not called with string\", shorthand);\n        }\n    }\n\n    return shorthand === AscentTypes.BOULDERS.shorthand;\n};\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport AscentsChart from './climbing/components/AscentsChart'\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <AscentsChart />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}