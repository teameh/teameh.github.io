(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){e.exports=a(422)},229:function(e,t,a){},231:function(e,t,a){},411:function(e,t){},413:function(e,t){},422:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(25),o=a.n(n),l=(a(229),a(19)),u=a(20),c=a(22),d=a(21),i=a(23),h=(a(231),a(110)),b=a(71),f=a.n(b),p=a(112),m=a(42),g=a.n(m),v=a(208),O=a(18),T=a(32),y=a(111),E={0:{id:0,score:0,labels:{fra:{routes:"",boulders:""},usa:{routes:"",boulders:""}}},1:{id:1,score:0,labels:{fra:{routes:"",boulders:""},usa:{routes:"3/4",boulders:"VB"}}},2:{id:2,score:80,labels:{fra:{routes:"2",boulders:"2"},usa:{routes:"5.1",boulders:"VB"}}},3:{id:3,score:100,labels:{fra:{routes:"3a",boulders:"3A"},usa:{routes:"5.3",boulders:"VB"}}},4:{id:4,score:120,labels:{fra:{routes:"3b",boulders:"3B"},usa:{routes:"5.3",boulders:"VB"}}},5:{id:5,score:140,labels:{fra:{routes:"3c",boulders:"3C"},usa:{routes:"5.3",boulders:"V0-"}}},6:{id:6,score:160,labels:{fra:{routes:"4a",boulders:"4A"},usa:{routes:"5.4",boulders:"V0"}}},7:{id:7,score:180,labels:{fra:{routes:"4b",boulders:"4B"},usa:{routes:"5.5",boulders:"V0"}}},8:{id:8,score:200,labels:{fra:{routes:"4c",boulders:"4C"},usa:{routes:"5.6",boulders:"V0"}}},9:{id:9,score:250,labels:{fra:{routes:"5",boulders:"5"},usa:{routes:"",boulders:""}}},10:{id:10,score:250,labels:{fra:{routes:"5a",boulders:"5A"},usa:{routes:"5.7",boulders:"V1"}}},11:{id:11,score:300,labels:{fra:{routes:"5b",boulders:"5B"},usa:{routes:"5.8",boulders:"V1"}}},12:{id:12,score:350,labels:{fra:{routes:"5c",boulders:"5C"},usa:{routes:"5.9",boulders:"V2"}}},13:{id:13,score:400,labels:{fra:{routes:"6",boulders:"6"},usa:{routes:"",boulders:""}}},14:{id:14,score:400,labels:{fra:{routes:"6a",boulders:"6A"},usa:{routes:"5.10a",boulders:"V3"}}},15:{id:15,score:450,labels:{fra:{routes:"6a+",boulders:"6A+"},usa:{routes:"5.10b",boulders:"V3/4"}}},16:{id:16,score:500,labels:{fra:{routes:"6b",boulders:"6B"},usa:{routes:"5.10c",boulders:"V4"}}},17:{id:17,score:550,labels:{fra:{routes:"6b+",boulders:"6B+"},usa:{routes:"5.10d",boulders:"V4/V5"}}},18:{id:18,score:600,labels:{fra:{routes:"6c",boulders:"6C"},usa:{routes:"5.11a",boulders:"V5"}}},19:{id:19,score:650,labels:{fra:{routes:"6c+",boulders:"6C+"},usa:{routes:"5.11b",boulders:"V5/V6"}}},20:{id:20,score:700,labels:{fra:{routes:"7a",boulders:"7A"},usa:{routes:"5.11d",boulders:"V6"}}},21:{id:21,score:750,labels:{fra:{routes:"7a+",boulders:"7A+"},usa:{routes:"5.12a",boulders:"V7"}}},22:{id:22,score:800,labels:{fra:{routes:"7b",boulders:"7B"},usa:{routes:"5.12b",boulders:"V8"}}},23:{id:23,score:850,labels:{fra:{routes:"7b+",boulders:"7B+"},usa:{routes:"5.12c",boulders:"V8/9"}}},24:{id:24,score:900,labels:{fra:{routes:"7c",boulders:"7C"},usa:{routes:"5.12d",boulders:"V9"}}},25:{id:25,score:950,labels:{fra:{routes:"7c+",boulders:"7C+"},usa:{routes:"5.13a",boulders:"V10"}}},26:{id:26,score:1e3,labels:{fra:{routes:"8a",boulders:"8A"},usa:{routes:"5.13b",boulders:"V11"}}},27:{id:27,score:1050,labels:{fra:{routes:"8a+",boulders:"8A+"},usa:{routes:"5.13c",boulders:"V12"}}},28:{id:28,score:1100,labels:{fra:{routes:"8b",boulders:"8B"},usa:{routes:"5.13d",boulders:"V13"}}},29:{id:29,score:1150,labels:{fra:{routes:"8b+",boulders:"8B+"},usa:{routes:"5.14a",boulders:"V14"}}},30:{id:30,score:1200,labels:{fra:{routes:"8c",boulders:"8C"},usa:{routes:"5.14b",boulders:"V15"}}},31:{id:31,score:1225,labels:{fra:{routes:"8c/+",boulders:"8C/+"},usa:{routes:"5.14b/c",boulders:"V15/16"}}},32:{id:32,score:1250,labels:{fra:{routes:"8c+",boulders:"8C+"},usa:{routes:"5.14c",boulders:"V16"}}},33:{id:33,score:1275,labels:{fra:{routes:"8c+/9a",boulders:"8C+/9A"},usa:{routes:"5.14c/d",boulders:"V16/17"}}},34:{id:34,score:1300,labels:{fra:{routes:"9a",boulders:"9A"},usa:{routes:"5.14d",boulders:"V17"}}},35:{id:35,score:1325,labels:{fra:{routes:"9a/+",boulders:"9A/+"},usa:{routes:"5.14d/.15a",boulders:"V17/18"}}},36:{id:36,score:1350,labels:{fra:{routes:"9a+",boulders:"9A+"},usa:{routes:"5.15a",boulders:"V18"}}},37:{id:37,score:1375,labels:{fra:{routes:"9a+/9b",boulders:"9A+/9B"},usa:{routes:"5.15a/b",boulders:"V18/19"}}},38:{id:38,score:1400,labels:{fra:{routes:"9b",boulders:"9B"},usa:{routes:"5.15b",boulders:"V19"}}},39:{id:39,score:1425,labels:{fra:{routes:"9b/+",boulders:"9B/+"},usa:{routes:"5.15b/c",boulders:"V19/20"}}},40:{id:40,score:1450,labels:{fra:{routes:"9b+",boulders:"9B+"},usa:{routes:"5.15c",boulders:"V20"}}},41:{id:41,score:1475,labels:{fra:{routes:"9b+/9c",boulders:"9B+/9C"},usa:{routes:"",boulders:""}}},42:{id:42,score:1500,labels:{fra:{routes:"9c",boulders:"9C"},usa:{routes:"",boulders:""}}},43:{id:43,score:1525,labels:{fra:{routes:"9c/+",boulders:"9C/+"},usa:{routes:"",boulders:""}}},44:{id:44,score:1550,labels:{fra:{routes:"9c+",boulders:"9C+"},usa:{routes:"",boulders:""}}},45:{id:45,score:1575,labels:{fra:{routes:"9c+/10a",boulders:"9C+/10A"},usa:{routes:"",boulders:""}}}},S={"-":0,2:5,"3a":6,"3b":7,"3c":8,"4a":9,"4b":10,"4c":11,"5a":12,"5b":13,"5c":14,"6a":15,"6a+":16,"6b":17,"6b+":18,"6c":19,"6c+":20,"7a":21,"7a+":22,"7b":23,"7b+":24,"7c":25,"7c+":26,"8a":27,"8a+":28,"8b":29,"8b+":30,"8c":31,"8c+":32,"9a":33,"9a+":34,"9b":35,"9b+":36,"9c":37,"8c/+":38,"8c+/9a":39,"9a/+":40,"9a+/9b":41},C=Object.values(E).reduce(function(e,t){var a=S[t.labels.fra.routes];return"undefined"!==typeof a?Object(h.a)({},e,Object(y.a)({},a,t.id)):e},{});if(C.count!==S.count)throw new Error("count are not equal");var I=E,j={redpoint:"#f03c3c",flash:"#ffca10",onsight:"#333",toprope:"#666",attempt:"#fff"},w={paddingTop:10},A={values:{valueColor:"Green",valueWeight:200,valueSize:12}},R={axis:{axisColor:"#C0C0C0"},label:{display:"none"},values:{valueSize:12}},V={},U={fill:"black",stroke:"#00000036",opacity:.8};U={normal:U,highlighted:U,selected:U,muted:U};var k=function(e,t){var a=t.get("ascent"),r=j[a.method.shorthand];return{normal:{fill:r,stroke:"#00000036",opacity:.8},highlighted:{fill:r,stroke:"#00000036",strokeWidth:5,opacity:.8},selected:{fill:r,stroke:"#00000036",strokeWidth:3,opacity:1},muted:{fill:r,stroke:"none",opacity:.4}}},N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).getChartData=function(){return a.getMemoizedChartData(a.props.ascents,a.props.ascentMethodIds,a.props.ascentNoteValues)},a.getMemoizedChartData=Object(v.a)(function(e,t,a){var r=new O.TimeSeries({name:"Ascents",columns:["time","ascent"],points:e.filter(function(e){return t.includes(e.method.id)}).filter(function(e){return!a||e.note&a}).map(function(e){return[new g.a(e.date).toDate().getTime(),e]})});console.log("chartSeries",r.toJSON());var s=e.length>=1?new g.a(e[0].date):new g.a("1900-01-01"),n=new g.a(e.length>=2?e[e.length-1].date:new Date),o=n.diff(s,"days");return s=s.subtract(.025*o,"days").toDate(),n=n.add(.025*o,"days").toDate(),{chartSeries:r,chartTotalTimeRange:new O.TimeRange([s.getTime(),n.getTime()]),begin:s,end:n}}),a.handleTimeRangeChange=function(e){a.setState({timerange:e,brushrange:e})},a.handleSelectionChanged=function(e){return a.setState({selection:e})},a.handleMouseNear=function(e){return a.setState({highlight:e})},a.getGradeLabel=function(e){var t=a.props.ascentTypeShortHand,r=I[e];return r?r.labels.fra[t]:(console.error("unknown grade!",e),"")},a.state={hover:null,highlight:null,selection:null,timeRange:null},console.log("AscentChart: ",e),a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.highlight,r=t.timerange,n=t.brushrange,o=this.getChartData(),l=o.chartSeries,u=o.chartTotalTimeRange,c=o.begin,d=o.end,i=[];if(a){var h=a.event.get("ascent");i=[{label:"".concat(h.cragname," - ").concat(h.name),value:"".concat(h.grade.labels.fra.routes," ").concat(h.method.shorthand)}]}return s.a.createElement("div",null,s.a.createElement("div",null,!l&&s.a.createElement("div",null,"No ascents to show"),l&&s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(T.Resizable,null,s.a.createElement(T.ChartContainer,{timeRange:r||u,timeAxisStyle:A,maxTime:d,minTime:c,enablePanZoom:!0,onTimeRangeChanged:this.handleTimeRangeChange},s.a.createElement(T.ChartRow,{height:"400",debug:!1},s.a.createElement(T.YAxis,{id:"gradesY",min:l.min("ascent.grade.id")-2,max:l.max("ascent.grade.id")+2,style:R,width:"0",format:this.getGradeLabel}),s.a.createElement(T.Charts,null,s.a.createElement(T.ScatterChart,{axis:"gradesY",series:l,columns:["ascent.grade.id"],style:k,info:i,infoTimeFormat:function(e){return e.toLocaleDateString()},infoHeight:28,infoWidth:400,infoStyle:{fill:"black",color:"#DDD"},ScatterChart:!0,selected:this.state.selection,onMouseNear:function(t){return e.handleMouseNear(t)},highlight:this.state.highlight,radius:8})))))),s.a.createElement("div",null,s.a.createElement("div",{style:w},s.a.createElement(T.Resizable,null,s.a.createElement(T.ChartContainer,{timeRange:u,timeAxisStyle:A,hideTimeAxis:!1},s.a.createElement(T.ChartRow,{height:"50",debug:!1},s.a.createElement(T.Brush,{timeRange:n||u,onTimeRangeChanged:this.handleTimeRangeChange}),s.a.createElement(T.YAxis,{id:"brushY",max:l.max("ascent.grade.id"),min:l.min("ascent.grade.id"),visible:!1,style:V}),s.a.createElement(T.Charts,null,s.a.createElement(T.ScatterChart,{axis:"brushY",series:l,columns:["ascent.grade.id"],style:function(){return U},info:i,infoHeight:28,infoWidth:110,infoStyle:{fill:"black",color:"#DDD"},format:".1f"}))))))))))}}]),t}(s.a.Component),B=a(30),D=a(423),H=a(424),L=a(119),x=a(209),M=a.n(x).a.parse(window.location.search),P=M&&M.userId&&/^[0-9]+$/.test(M.userId)?M.userId:void 0,_=M&&M.type&&/^(routes)|(boulders)$/.test(M.type)?M.type:void 0,G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={userId:P},a.checkUserId=function(e){return/^[0-9]*$/.test(e)},a.handleSubmit=function(e){e&&e.preventDefault(),a.checkUserId(a.userIdInput.state.value)&&a.props.onSubmit(a.userIdInput.state.value)},a.onClearUserId=function(){a.userIdInput.focus(),a.setState({userId:void 0}),a.props.onSubmit(void 0)},a.onChangeUserId=function(e){var t=e.target.value;a.checkUserId(t)&&a.setState({userId:t})},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.userId,a=this.props,r=a.isLoading,n=a.userId,o=t?s.a.createElement(B.a,{type:"close-circle",onClick:this.onClearUserId}):null;return console.log("userId == loadedUserId",t,n),s.a.createElement(D.a,{layout:"inline",onSubmit:this.handleSubmit},s.a.createElement(D.a.Item,null,s.a.createElement(H.a,{placeholder:"Enter your userId",prefix:s.a.createElement(B.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:o,value:t,onChange:this.onChangeUserId,ref:function(t){return e.userIdInput=t}})),s.a.createElement(D.a.Item,null,s.a.createElement(L.a,{type:"primary",htmlType:"submit",disabled:r||!t||t===n,icon:r?"loading":"download"},r?"Loading...":"Load ascents!")),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(s.a.Component),F=a(426),z={ROUTES:{id:0,shorthand:"routes",label:"Routes"},BOULDERS:{id:1,shorthand:"boulders",label:"Boulders"}},W={ONSIGHT:{id:0,oldId:"5 or 3",value:{routes:145,boulders:95},shorthand:"onsight",label:"Onsight",ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},FLASH:{id:1,oldId:"2",value:{routes:53,boulders:53},shorthand:"flash",label:"Flash",ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},REDPOINT:{id:2,oldId:"1",value:{routes:0,boulders:0},shorthand:"redpoint",label:"Redpoint",ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},TOPROPE:{id:3,oldId:"4",value:{routes:-52,boulders:-52},shorthand:"toprope",label:"Toprope",ascentTypes:[z.ROUTES.shorthand]},ATTEMPT:{id:4,oldId:"no method",value:{routes:0,boulders:0},shorthand:"attempt",label:"Attempt",ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]}},Y={1:W.REDPOINT,2:W.FLASH,3:W.ONSIGHT,4:W.TOPROPE,5:W.ONSIGHT,6:W.ATTEMPT},J=W,$=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleChangeMethod=function(e){a.props.onChange(e)},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.ascentTypeShortHand,t=Object.values(J).filter(function(t){return t.ascentTypes.includes(e)}).map(function(e){return{label:e.label,value:e.id}}),a=Object.values(J).filter(function(e){return e!==J.ATTEMPT}).map(function(e){return e.id});return s.a.createElement(F.a.Group,{options:t,defaultValue:a,onChange:this.handleChangeMethod})}}]),t}(s.a.Component),q=a(425),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleChangeType=function(e){var t=e.target.value;a.props.onChange(t)},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.ascentTypeShortHand;return s.a.createElement(q.a.Group,{value:e,onChange:this.handleChangeType},Object.values(z).map(function(e){return s.a.createElement(q.a.Button,{key:e.id,value:e.shorthand},e.label)}))}}]),t}(s.a.Component),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleChangeOptions=function(e){a.props.onChange(e)},a.handleChangeAscentType=function(e){a.handleChangeOptions({ascentTypeShortHand:e})},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ascentTypeShortHand,a=e.userId;return s.a.createElement("div",null,s.a.createElement(Z,{userId:a,ascentTypeShortHand:t,onChange:this.handleChangeAscentType}),"\xa0 \xa0",s.a.createElement($,{ascentTypeShortHand:t,onChange:this.handleChangeMethods}))}}]),t}(s.a.Component),Q={NOTE_FA:{label:"First Ascent",value:1,score:{routes:30,boulders:20},ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},NOTE_2ND_GO:{label:"Second Go",value:2,score:{routes:2,boulders:2},ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},NOTE_TRAD:{label:"Trad",value:4,score:{routes:30,boulders:0},ascentTypes:[z.ROUTES.shorthand]},NOTE_SOFT:{label:"Soft",value:8,score:{routes:0,boulders:0},ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},NOTE_HARD:{label:"Hard",value:16,score:{routes:0,boulders:0},ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]},NOTE_TRAV:{label:"Traverse",value:32,score:{routes:0,boulders:0},ascentTypes:[z.BOULDERS.shorthand]},NOTE_ONE_HANG:{label:"One Hang",value:64,score:{routes:-128,boulders:0},ascentTypes:[z.ROUTES.shorthand]},Other:{label:"Other",value:128,score:{routes:0,boulders:0},ascentTypes:[z.ROUTES.shorthand,z.BOULDERS.shorthand]}},X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleChangeNote=function(e){a.props.onChange(e.reduce(function(e,t){return e|t},0))},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.ascentTypeShortHand,t=Object.values(Q).filter(function(t){return t.ascentTypes.includes(e)}).map(function(e){return{label:e.label,value:e.value}}),a=Object.values(Q).map(function(e){return e.value});return s.a.createElement(F.a.Group,{options:t,defaultValue:a,onChange:this.handleChangeNote})}}]),t}(s.a.Component),ee=function(e,t){try{return JSON.parse(window.localStorage.getItem("raw-".concat(t,"-").concat(e)))}catch(a){}},te=function(e,t,a){try{return window.localStorage.setItem("raw-".concat(t,"-").concat(e),JSON.stringify(a))}catch(r){}},ae=function(e,t){try{return window.localStorage.removeItem("raw-".concat(t,"-").concat(e))}catch(a){}},re=a(220),se=a(221),ne=a.n(se),oe=function(){var e=Object(p.a)(f.a.mark(function e(t,a){var r,s,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=ee(t,a))){e.next=6;break}return e.next=4,le(r);case 4:return e.t0=e.sent,e.abrupt("return",{fromCache:!0,ascents:e.t0});case 6:return s="https://cors-anywhere.herokuapp.com/https://www.8a.nu/scorecard/xml/".concat(t,"_").concat(a,".xml"),console.info("fetch",s),e.next=10,Object(re.a)(s);case 10:return n=e.sent,e.next=13,n.text();case 13:return r=e.sent,te(t,a,r),e.next=17,le(r);case 17:return e.t1=e.sent,e.abrupt("return",{fromCache:!1,ascents:e.t1});case 19:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),le=function(e){return new Promise(function(t,a){return new ne.a.Parser({normalizeTags:!0,explicitArray:!1}).parseString(e,function(e,r){return e?a(e):r.ascentlist.ascent?(console.log("parsed JSON",r),t(r.ascentlist.ascent)):a(new Error("Loading ascents failed..."))})})},ue=oe,ce=(a(120),function(e){return e.filter(function(e){return"false"===e.dbascent}).sort(function(e,t){return e.date<t.date?-1:e.date>t.date?1:0}).map(function(e){if(e.type=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[z.ROUTES,z.BOULDERS,z.MULTI_PITCH][e]}(e.type),("CLS_UserAscent_Try"===e.objectclass||e.note&Q.NOTE_ONE_HANG)&&(e.style="6"),e.method=Y[e.style],!e.method)return console.error("method not found",e.style,e),!1;var t=C[e.grade];return t||console.error("gradeId not found",e.grade),e.grade=I[t],e.note=parseInt(e.note,10),0===e.note&&(e.note=Q.Other.value),e}).filter(function(e){return e})}),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).refreshAscents=function(e){e.preventDefault(),ae(a.state.userId,a.state.ascentTypeShortHand),a.fetchAscents(a.state.userId,a.state.ascentTypeShortHand)},a.fetchAscents=function(){var e=Object(p.a)(f.a.mark(function e(t,r){var s,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=3;break}return console.error("no userId or ascentTypeShortHand",t,r),e.abrupt("return");case 3:return e.prev=3,a.setState({isLoading:!0}),e.next=7,ue(t,r);case 7:s=e.sent,n=ce(s.ascents),console.log("ascents",n),a.setState({userId:t,ascentsLoadedFromCache:s.fromCache,ascents:n,error:null,isLoading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("error",e.t0),a.setState({error:e.t0.message,ascentsLoadedFromCache:void 0,ascents:[],isLoading:!1});case 17:case"end":return e.stop()}},e,this,[[3,13]])}));return function(t,a){return e.apply(this,arguments)}}(),a.onChangeChartOptions=function(e){"undefined"!==typeof e.ascentTypeShortHand&&e.ascentTypeShortHand!==a.state.ascentTypeShortHand&&a.fetchAscents(a.state.userId,e.ascentTypeShortHand),a.setState(Object(h.a)({},e))},a.handleChangeNotes=function(e){a.setState({ascentNoteValues:e})},a.onSubmitUserIdInput=function(e){if(e&&""!==e)return a.fetchAscents(e,a.state.ascentTypeShortHand);a.setState({userId:void 0,ascents:[],isLoading:!1,error:null})},a.state={userId:P,isLoading:!!P,error:null,ascents:[],ascentsLoadedFromCache:void 0,ascentMethodIds:Object.values(J).filter(function(e){return e!==J.ATTEMPT}).map(function(e){return e.id}),ascentNoteValues:Object.values(Q).reduce(function(e,t){return e|t.value},0),ascentTypeShortHand:_||z.ROUTES.shorthand},a}return Object(i.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.userId&&this.fetchAscents(this.state.userId,this.state.ascentTypeShortHand)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,r=e.ascents,n=e.ascentsLoadedFromCache,o=e.userId,l=e.ascentTypeShortHand,u=e.ascentMethodIds,c=e.ascentNoteValues;return console.log("render Ascents",this.state),s.a.createElement("div",{className:"App"},s.a.createElement(G,{onSubmit:this.onSubmitUserIdInput,userId:o,isLoading:t}),!o&&!t&&s.a.createElement("p",null,"You can find your userId on your profile page or scorecard:",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("img",{src:"8a.nu.png",alt:"8a.nu screenshot showing userId",width:"50%"})),o&&s.a.createElement(K,{ascentTypeShortHand:l,ascentMethodIds:u,onChange:this.onChangeChartOptions}),s.a.createElement("br",null),s.a.createElement("br",null),t&&s.a.createElement("div",null,"Loading..."),a&&s.a.createElement("div",null,"Error: ",a),o&&!t&&r.length>0&&s.a.createElement(N,{ascents:r,ascentTypeShortHand:l,ascentMethodIds:u,ascentNoteValues:c}),s.a.createElement("br",null),o&&!t&&r.length>0&&s.a.createElement("p",null,s.a.createElement("h3",null,"More options"),s.a.createElement(X,{ascentTypeShortHand:l,onChange:this.handleChangeNotes})),s.a.createElement("br",null),o&&!t&&r.length>0&&n&&s.a.createElement("p",null,"Ascents loaded from cache"," ",s.a.createElement("a",{href:!0,onClick:this.refreshAscents},"refresh"),"."))}}]),t}(s.a.PureComponent),ie=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(de,null)}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[224,2,1]]]);
//# sourceMappingURL=main.d78165db.chunk.js.map